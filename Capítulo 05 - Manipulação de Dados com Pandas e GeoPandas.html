<!DOCTYPE html>
<html lang="pt-br" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="theme-color" content="#1B5E20">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="imagens/logotipos/logo_IFSC.png">
    <title>Manipulação de Dados com Pandas e GeoPandas — IFSC Digital Book</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'ifsc-green': '#1B5E20',
                        'ifsc-gray': '#374151',
                        'ifsc-soft': '#E6F4EA'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'Segoe UI', 'sans-serif']
                    },
                    maxWidth: {
                        prose: '70ch'
                    }
                }
            }
        };
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet">
    <link rel="stylesheet" href="estilos.v2.css">
</head>
<body class="bg-slate-50 text-ifsc-gray antialiased dark:bg-slate-950 dark:text-slate-100">
    <div id="reading-progress" class="fixed top-0 left-0 h-1 w-full bg-ifsc-green/80 scale-x-0 transition-transform duration-200 origin-left z-50"></div>
                    <header class="bg-white/95 backdrop-blur shadow-md sticky top-0 z-40 dark:bg-slate-900/90">
        <div class="border-b border-slate-200/60 dark:border-slate-700/60">
            <div class="container mx-auto px-6 py-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
                <div class="flex flex-wrap items-center justify-center gap-4 md:justify-start">
                    <img src="imagens/logotipos/logo_IFSC.png" alt="Logotipo do IFSC" class="h-10 w-auto object-contain opacity-80 drop-shadow-sm dark:opacity-90" loading="lazy" onerror="this.style.display='none'">
                    <img src="imagens/logotipos/logo_DACC.jpg" alt="Logotipo do DACC" class="h-10 w-auto object-contain opacity-80 drop-shadow-sm dark:opacity-90" loading="lazy" onerror="this.style.display='none'">
                    <img src="imagens/logotipos/Logo_Curso_Geoprocessamento.jpg" alt="Logotipo do Curso de Geoprocessamento" class="h-10 w-auto object-contain opacity-80 drop-shadow-sm dark:opacity-90" loading="lazy" onerror="this.style.display='none'">
                    <img src="imagens/logotipos/logo_Disciplina.png" alt="Logotipo da disciplina PAG014903" class="h-16 w-auto object-contain ring-2 ring-ifsc-green rounded-md shadow-md" loading="lazy" onerror="this.style.display='none'">
                </div>
                <div class="flex items-center gap-3 justify-center md:justify-end">
                    <div class="text-center md:text-right">
                        <p class="text-lg font-semibold text-ifsc-green dark:text-emerald-300">Fundamentos de Programação em Python</p>
                        <p class="text-xs text-gray-500 dark:text-slate-300/80">v0.0.1</p>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="font-size-widget" role="group" aria-label="Controle de tamanho do texto">
                            <button id="font-decrease" type="button" aria-label="Diminuir tamanho do texto">A-</button>
                            <span class="font-size-widget-divider" aria-hidden="true"></span>
                            <button id="font-increase" type="button" aria-label="Aumentar tamanho do texto">A+</button>
                            <span class="font-size-widget-label" data-font-label aria-live="polite">Padrão</span>
                        </div>
                        <button id="theme-toggle" type="button" class="theme-toggle" aria-pressed="false" aria-label="Alternar tema">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                            </svg>
                            <span data-mode-text>LIGHT</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center text-sm font-medium">
            <a href="index.html#capitulos" class="text-gray-600 hover:text-ifsc-green transition-colors dark:text-slate-300/80">&larr; Capítulos</a>
            <div class="hidden md:flex items-center space-x-6">
                <a href="index.html" class="py-2 px-3 text-gray-700 hover:text-ifsc-green transition-colors dark:text-slate-200">Início</a>
                <a href="index.html#capitulos" class="py-2 px-3 text-gray-700 hover:text-ifsc-green transition-colors dark:text-slate-200">Capítulos</a>
                <a href="index.html#sobre" class="py-2 px-3 text-gray-700 hover:text-ifsc-green transition-colors dark:text-slate-200">Sobre</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12">
        <div class="flex flex-col gap-10 lg:grid lg:grid-cols-[280px_minmax(0,1fr)]">

        <aside class="order-2 lg:order-1">
            <div class="sticky top-32 space-y-6 rounded-3xl border border-slate-200/70 bg-white/70 p-6 shadow-md backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/60">
                <h2 class="flex items-center gap-3 text-lg font-semibold text-ifsc-green dark:text-emerald-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.75">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 6v6l3 3" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                    Navegue pelo conteúdo
                </h2>
                <p class="text-sm text-gray-600 dark:text-slate-300/80">Acompanhe os blocos temáticos e avance no seu ritmo. Clique em um tópico para ir direto ao ponto.</p>
                <nav>
                    <ul id="toc-list" class="space-y-2 text-sm">
                        <li class="text-slate-400">Carregando seções...</li>
                    </ul>
                </nav>
                <div class="rounded-xl bg-ifsc-soft/70 p-4 text-xs text-ifsc-gray dark:bg-emerald-900/40 dark:text-emerald-100">
                    <strong>Dica:</strong> pressione <span class="rounded bg-white px-1 py-0.5 font-mono text-[0.65rem] shadow-sm">Ctrl</span> + <span class="rounded bg-white px-1 py-0.5 font-mono text-[0.65rem] shadow-sm">L</span> para focar o endereço e retornar rapidamente ao sumário.
                </div>
            </div>
        </aside>


        <article class="order-1 lg:order-2 rounded-3xl border border-slate-200/80 bg-white/95 shadow-xl backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/80">
            <div class="space-y-12 p-6 md:p-10">
                <header class="space-y-6">
                    <nav class="flex flex-wrap items-center gap-3 text-sm font-medium text-ifsc-green transition-colors hover:text-ifsc-green/80 dark:text-emerald-300">
                        <a href="index.html#capitulos" class="inline-flex items-center gap-2">
                            <span aria-hidden="true">&larr;</span>
                            <span>Voltar aos capítulos</span>
                        </a>
                        <span class="hidden md:inline-block text-gray-300 dark:text-slate-500">·</span>
                        <a href="Capítulo 04 - Dando Inteligência ao Código - Decisões e Loops.html" class="inline-flex items-center gap-2">
                            <span aria-hidden="true">&#x2190;</span>
                            <span>Capítulo anterior</span>
                        </a>
                        <span class="hidden md:inline-block text-gray-300 dark:text-slate-500">·</span>
                        <a href="Capítulo 06 - Do Endereço ao Mapa - Geocodificação com Geopy.html" class="inline-flex items-center gap-2">
                            <span aria-hidden="true">&#x2192;</span>
                            <span>Próximo capítulo</span>
                        </a>
                    </nav>
                    <div class="space-y-4">
                        <h1 class="flex flex-wrap items-center gap-3 text-3xl font-extrabold text-slate-800 dark:text-white md:text-4xl">
                            <span class="inline-flex h-12 w-12 items-center justify-center rounded-full bg-ifsc-soft text-ifsc-green shadow-inner dark:bg-emerald-900/40 dark:text-emerald-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3 3h7v7H3z"></path>
                                    <path d="M14 3h7v7h-7z"></path>
                                    <path d="M14 14h7v7h-7z"></path>
                                    <path d="M3 14h7v7H3z"></path>
                                </svg>
                            </span>
                            <span>Roteiro da Aula: Manipulação de Dados com Pandas e GeoPandas</span>
                        </h1>
                        <p class="max-w-prose text-lg leading-relaxed text-gray-600 dark:text-slate-300">Saia das estruturas básicas e explore bibliotecas poderosas para ler, limpar e analisar dados tabulares e geoespaciais antes de visualizá-los em mapas interativos.</p>
                    </div>
                    <div class="space-y-4 rounded-2xl border border-ifsc-green/20 bg-ifsc-soft/60 p-6 dark:border-emerald-500/30 dark:bg-emerald-900/20">
                        <div class="space-y-2">
                            <p class="text-sm font-semibold uppercase tracking-wide text-ifsc-green dark:text-emerald-300">Você vai aprender a</p>
                            <ul class="space-y-2 text-sm text-ifsc-gray dark:text-slate-200">
                                <li class="flex gap-2"><span class="mt-0.5">▹</span><span>Ler e explorar arquivos CSV com o Pandas.</span></li>
                                <li class="flex gap-2"><span class="mt-0.5">▹</span><span>Converter e reprojetar dados espaciais com GeoPandas.</span></li>
                                <li class="flex gap-2"><span class="mt-0.5">▹</span><span>Executar consultas espaciais para responder perguntas de localização.</span></li>
                            </ul>
                        </div>
                    </div>
                </header>
                                            <section class="prose max-w-none lg:prose-xl">
                                                <section id="arquivos" data-toc="section" data-toc-title="Arquivos necessários">
                                                    <h2 class="text-2xl font-semibold text-ifsc-green dark:text-emerald-200">Arquivos necessários para acompanhar a aula</h2>
                                                    <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                        <p>Para reproduzir os exemplos desta aula, utilize a planilha <code>Pontos.csv</code> com dados fictícios de balneabilidade das praias de Florianópolis. Baixe o arquivo e mantenha-o na pasta <code>arquivos/</code> do projeto para que os scripts encontrem o caminho corretamente.</p>
                                                        <div class="flex flex-col gap-3 rounded-2xl border border-ifsc-green/30 bg-ifsc-soft/70 p-5 dark:border-emerald-500/40 dark:bg-emerald-900/20 md:flex-row md:items-center md:gap-6">
                                                            <div class="space-y-1 md:basis-3/4 md:flex-1">
                                                                <p class="text-sm font-semibold uppercase tracking-wide text-ifsc-green dark:text-emerald-300">Dataset de referência</p>
                                                                <p class="text-sm text-gray-600 dark:text-slate-300">Inclui nome da praia, latitude, longitude e situação da balneabilidade para consultas com Pandas e GeoPandas.</p>
                                                            </div>
                                                            <a href="arquivos/Pontos.csv" download class="group inline-flex items-center gap-2 rounded-xl border border-ifsc-green/60 bg-white px-4 py-2 text-sm font-semibold text-ifsc-green shadow-sm transition hover:bg-ifsc-green hover:text-white dark:border-emerald-400/70 dark:bg-slate-900/70 dark:text-emerald-200 dark:hover:bg-emerald-400 dark:hover:text-slate-900 md:basis-1/4 md:flex-none md:justify-center">
                                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition group-hover:translate-y-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                                    <path d="M7 10l5 5 5-5"></path>
                                                                    <path d="M12 15V3"></path>
                                                                </svg>
                                                                <span>Baixar Pontos.csv</span>
                                                            </a>
                                                        </div>
                                                        <div class="flex flex-col gap-3 rounded-2xl border border-sky-400/40 bg-sky-50/80 p-5 dark:border-sky-400/50 dark:bg-sky-900/20 md:flex-row md:items-center md:gap-6">
                                                            <div class="space-y-3 md:basis-3/4 md:flex-1">
                                                                <p class="text-sm font-semibold uppercase tracking-wide text-sky-700 dark:text-sky-200">Shapefile oficial do IBGE</p>
                                                                <p class="text-sm text-gray-600 dark:text-slate-300">Arquivo <code>SC_Municipios_2022</code> com as geometrias municipais atualizadas. O download ocorre a partir dos servidores públicos do IBGE.</p>
                                                                <div class="rounded-xl border-l-4 border-amber-400 bg-amber-50/90 px-4 py-3 text-xs text-amber-800 shadow-sm dark:border-amber-300 dark:bg-amber-900/30 dark:text-amber-100">
                                                                    Após baixar o pacote ZIP, extraia todos os componentes do shapefile (<code>.shp</code>, <code>.dbf</code>, <code>.shx</code>, <code>.prj</code> etc.) para uma pasta local, como <code>arquivos/SC_Municipios_2022/</code>. Mantenha os nomes originais para que o GeoPandas reconheça o conjunto completo.
                                                                </div>
                                                            </div>
                                                            <a href="https://geoftp.ibge.gov.br/organizacao_do_territorio/malhas_territoriais/malhas_municipais/municipio_2022/UFs/SC/SC_Municipios_2022.zip" target="_blank" rel="noopener" class="group inline-flex items-center gap-2 rounded-xl border border-sky-500/70 bg-white px-4 py-2 text-sm font-semibold text-sky-700 shadow-sm transition hover:bg-sky-500 hover:text-white dark:border-sky-400/70 dark:bg-slate-900/70 dark:text-sky-200 dark:hover:bg-sky-400 dark:hover:text-slate-900 md:basis-1/4 md:flex-none md:justify-center">
                                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition group-hover:translate-y-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                                                    <path d="M7 10l5 5 5-5"></path>
                                                                    <path d="M12 15V3"></path>
                                                                </svg>
                                                                <span>Baixar SC_Municipios_2022.zip</span>
                                                            </a>
                                                        </div>
                                                    </div>
                                                    
                                                </section>
                                                <section id="introducao" data-toc="section" data-toc-title="Por que Pandas e GeoPandas">
                                                    <h2 class="text-2xl font-semibold text-ifsc-green dark:text-emerald-200">1. Introdução: Por que precisamos de mais que listas e dicionários?</h2>
                                                    <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                        <p>Listas e dicionários nos ajudaram a organizar dados básicos em Python, como uma coleção de praias com seus atributos.</p>
                                                        <div class="code-container">
                                                        <pre><code class="language-python">dados_praias = [
    {"Praia": "Praia da Barra", "Longitude": -48.573928, "Latitude": -27.600218, "Situação": "Boa"},
    {"Praia": "Praia Brava", "Longitude": -48.574293, "Latitude": -27.600404, "Situação": "Boa"},
    # ... e assim por diante
]</code></pre>
                                                        </div>
                                                        <p>No entanto, quando precisamos calcular médias, filtrar milhares de registros ou ler arquivos externos, o trabalho manual cresce rapidamente. Para escalar essas tarefas, recorremos a ferramentas feitas sob medida para análise de dados: <strong>Pandas</strong> para tabelas e <strong>GeoPandas</strong> para dados espaciais.</p>
                                                    </div>
                                                </section>

                                                <section id="pandas" data-toc="section" data-toc-title="Pandas">
                                                    <h2 class="text-2xl font-semibold text-ifsc-green dark:text-emerald-200">2. Pandas: Sua planilha superpoderosa no Python</h2>
                                                    <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                        <p>Pandas é como uma planilha programável: lê CSVs, organiza colunas com tipos específicos e facilita a exploração de grandes conjuntos de dados.</p>
                                                        <div class="bg-emerald-50 border border-emerald-200 text-emerald-900 rounded-lg p-4 mb-6 shadow-sm">
                                                            <p class="font-semibold">Instalação</p>
                                                            <p>Em um ambiente virtual ou terminal do VS Code, execute: <code>pip install pandas</code></p>
                                                        </div>
                                                    </div>

                                                    <section id="pandas-dataframe">
                                                        <h3 class="mt-6 text-xl font-semibold text-ifsc-green/80 dark:text-emerald-300">2.1 A estrutura principal: o <code>DataFrame</code></h3>
                                                        <p class="leading-relaxed text-gray-700 dark:text-slate-300">O <code>DataFrame</code> organiza os dados em linhas e colunas. Cada coluna possui um rótulo e um tipo apropriado (texto, número, data).</p>
                                                    </section>

                                                    <section id="pandas-csv" data-toc="section" data-toc-title="Leitura de CSV">
                                                        <h3 class="mt-6 text-xl font-semibold text-ifsc-green/80 dark:text-emerald-300">2.2 Lendo dados de um arquivo CSV</h3>
                                                        <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                            <p>Carregar dados tabulares é simples com <code>pd.read_csv()</code>. Utilize o mesmo arquivo <code>Pontos.csv</code> que também servirá para projetos com Folium.</p>
                                                            <div class="code-container">
                                                            <pre><code class="language-python"># 1. Importar a biblioteca pandas
import pandas as pd  # "pd" é o apelido padrão

# 2. Ler o arquivo CSV e carregar os dados em um DataFrame
try:
    df_praias = pd.read_csv('Pontos.csv')

    # 3. Explorar os dados que foram carregados
    print("--- As 5 primeiras linhas do nosso DataFrame ---")
    print(df_praias.head())  # .head() mostra as primeiras 5 linhas

    print("\n--- Informações sobre as colunas e os tipos de dados ---")
    print(df_praias.info())  # .info() resume a estrutura do DataFrame

except FileNotFoundError:
    print("Erro: O arquivo 'Pontos.csv' não foi encontrado.")
    print("Certifique-se de que ele está na mesma pasta que o seu script Python.")</code></pre>
                                                            </div>
                                                        </div>
                                                    </section>

                                                    <section id="pandas-operacoes" data-toc="section" data-toc-title="Operações básicas">
                                                        <h3 class="mt-6 text-xl font-semibold text-ifsc-green/80 dark:text-emerald-300">2.3 Operações básicas com DataFrames</h3>
                                                        <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                            <p>Depois de carregar os dados, o Pandas simplifica consultas, cálculos e filtragens que antes exigiriam muitos laços <code>for</code>.</p>
                                                            <div class="code-container">
                                                            <pre><code class="language-python">import pandas as pd

try:
    df_praias = pd.read_csv('Pontos.csv')

    # a) Selecionar uma coluna específica (retorna uma Series)
    nomes_das_praias = df_praias['Praia']
    print("--- Nomes de todas as praias ---")
    print(nomes_das_praias)

    # b) Calcular estatísticas básicas de uma coluna numérica
    latitude_media = df_praias['Latitude'].mean()
    print(f"\n--- A latitude média é: {latitude_media:.4f} ---")

    # c) Filtrar o DataFrame pela Situação
    praias_ruins = df_praias[df_praias['Situação'] == 'Ruim']
    print("\n--- Praias com situação 'Ruim' ---")
    print(praias_ruins)

except FileNotFoundError:
    print("Erro: O arquivo 'Pontos.csv' não foi encontrado.")</code></pre>
                                                            </div>
                                                            <p>Note como cálculos e filtros robustos cabem em poucas linhas, liberando tempo para análises mais profundas.</p>
                                                        </div>
                                                    </section>
                                                </section>

                                                <section id="geopandas" data-toc="section" data-toc-title="GeoPandas">
                                                    <h2 class="text-2xl font-semibold text-ifsc-green dark:text-emerald-200">3. GeoPandas: adicionando inteligência geográfica</h2>
                                                    <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                        <p>GeoPandas expande o Pandas para entender colunas com latitudes e longitudes como geometrias reais. Tudo isso apoiado pela biblioteca <code>pyproj</code> para transformações de coordenadas.</p>
                                                        <div class="bg-sky-50 border border-sky-200 text-sky-900 rounded-lg p-4 mb-6 shadow-sm">
                                                            <p class="font-semibold">Instalação</p>
                                                            <p>No terminal: <code>pip install geopandas</code></p>
                                                        </div>
                                                    </div>

                                                    <section id="geopandas-shapefile" data-toc="section" data-toc-title="Leitura de Shapefile">
                                                        <h3 class="mt-6 text-xl font-semibold text-ifsc-green/80 dark:text-emerald-300">3.1 Lendo um arquivo Shapefile</h3>
                                                        <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                            <p>Shapefiles são formatos clássicos do geoprocessamento, contendo atributos e geometria. GeoPandas lê essas estruturas com <code>read_file()</code>.</p>
                                                            <div class="code-container">
                                                            <pre><code class="language-python">import geopandas

# Caminho para o arquivo .shp (ex: download do IBGE)
caminho_shapefile = 'caminho/para/seu/SC_Municipios_2022.shp'

try:
    gdf_municipios = geopandas.read_file(caminho_shapefile)

    print("--- As 5 primeiras linhas do nosso GeoDataFrame ---")
    print(gdf_municipios.head())

    print("\n--- Informações sobre o GeoDataFrame ---")
    gdf_municipios.info()
    # Repare na coluna "geometry", exclusiva dos GeoDataFrames

except Exception as e:
    print(f"Não foi possível ler o arquivo Shapefile: {e}")
    print("Verifique se o caminho está correto e se o arquivo não está corrompido.")</code></pre>
                                                            </div>
                                                        </div>
                                                    </section>

                                                    <section id="geopandas-plot" data-toc="section" data-toc-title="Visualização rápida">
                                                        <h3 class="mt-6 text-xl font-semibold text-ifsc-green/80 dark:text-emerald-300">3.2 Visualização rápida</h3>
                                                        <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                            <p>Com a geometria carregada, um mapa inicial surge com <code>.plot()</code>, ideal para conferência visual.</p>
                                                            <div class="code-container">
                                                            <pre><code class="language-python">import geopandas
import matplotlib.pyplot as plt

caminho_shapefile = 'caminho/para/seu/SC_Municipios_2022.shp'

try:
    gdf_municipios = geopandas.read_file(caminho_shapefile)

    print("Gerando um mapa simples dos municípios...")
    gdf_municipios.plot()

    plt.title("Municípios de Santa Catarina")
    plt.xlabel("Longitude")
    plt.ylabel("Latitude")
    plt.show()

except Exception as e:
    print(f"Não foi possível gerar o mapa: {e}")</code></pre>
                                                            </div>
                                                        </div>
                                                    </section>

                                                    <section id="geopandas-conversao" data-toc="section" data-toc-title="Conversão de formatos">
                                                        <h3 class="mt-6 text-xl font-semibold text-ifsc-green/80 dark:text-emerald-300">3.3 Manipulação e conversão de formatos</h3>
                                                        <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                            <p>GeoPandas também funciona como um tradutor entre formatos espaciais. Converter Shapefile para GeoJSON, por exemplo, é direto.</p>
                                                            <div class="code-container">
                                                            <pre><code class="language-python">import geopandas

caminho_shapefile = 'caminho/para/seu/SC_Municipios_2022.shp'
caminho_saida_geojson = 'municipios_sc.geojson'

try:
    print(f"Lendo o arquivo: {caminho_shapefile}...")
    gdf_municipios = geopandas.read_file(caminho_shapefile)
    print("Leitura concluída com sucesso!")

    print(f"Convertendo para GeoJSON: {caminho_saida_geojson}...")
    gdf_municipios.to_file(caminho_saida_geojson, driver='GeoJSON')
    print("Conversão finalizada com sucesso!")

except Exception as e:
    print(f"Ocorreu um erro durante o processo: {e}")</code></pre>
                                                            </div>
                                                        </div>
                                                    </section>

                                                    <section id="geopandas-crs" data-toc="section" data-toc-title="Reprojeção">
                                                        <h3 class="mt-6 text-xl font-semibold text-ifsc-green/80 dark:text-emerald-300">3.4 Transformando sistemas de coordenadas</h3>
                                                        <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                            <p>Converter entre sistemas geográficos (graus) e projetados (metros) é essencial para cálculos de área e distância. GeoPandas simplifica a reprojeção via <code>.to_crs()</code>.</p>
                                                            <div class="code-container">
                                                            <pre><code class="language-python">import geopandas

caminho_shapefile = 'caminho/para/seu/SC_Municipios_2022.shp'

try:
    gdf_municipios = geopandas.read_file(caminho_shapefile)

    # 1. Verificar o CRS atual
    print(f"CRS Original: {gdf_municipios.crs}")

    # 2. Reprojetar para SIRGAS 2000 / UTM zone 22S (EPSG:31982)
    print("Reprojetando para UTM (EPSG:31982)...")
    gdf_utm = gdf_municipios.to_crs("EPSG:31982")

    # 3. Conferir o resultado
    print(f"Novo CRS: {gdf_utm.crs}")
    print("\n--- Geometrias após a conversão para UTM (coordenadas em metros) ---")
    print(gdf_utm.head())

except Exception as e:
    print(f"Ocorreu um erro durante a reprojeção: {e}")</code></pre>
                                                            </div>
                                                        </div>
                                                    </section>

                                                    <section id="geopandas-topologia" data-toc="section" data-toc-title="Consultas espaciais">
                                                        <h3 class="mt-6 text-xl font-semibold text-ifsc-green/80 dark:text-emerald-300">3.5 Introdução a relações topológicas (consultas espaciais)</h3>
                                                        <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                            <p>Consultas espaciais respondem perguntas sobre interseções, contenções e vizinhança entre objetos geográficos. GeoPandas usa internamente a biblioteca Shapely para esses cálculos.</p>
                                                            <div class="code-container">
                                                            <pre><code class="language-python">import geopandas
from shapely.geometry import Point

caminho_shapefile = 'caminho/para/seu/SC_Municipios_2022.shp'

try:
    gdf_municipios = geopandas.read_file(caminho_shapefile)

    # 1. Criar um ponto para o IFSC (longitude, latitude)
    ponto_ifsc = Point(-48.54235, -27.59397)

    # 2. Consulta espacial: qual município contém o ponto?
    municipio_ifsc = gdf_municipios[gdf_municipios.contains(ponto_ifsc)]

    # 3. Exibir o resultado
    if not municipio_ifsc.empty:
        nome_municipio = municipio_ifsc['NM_MUN'].iloc[0]
        print(f"O ponto do IFSC está localizado no município de: {nome_municipio}")
    else:
        print("Não foi encontrado nenhum município contendo o ponto especificado.")

except Exception as e:
    print(f"Ocorreu um erro durante a consulta espacial: {e}")</code></pre>
                                                            </div>
                                                        </div>
                                                    </section>
                                                </section>

                                                <section id="conclusao" data-toc="section" data-toc-title="Conclusão">
                                                    <h2 class="text-2xl font-semibold text-ifsc-green dark:text-emerald-200">4. Conclusão e próximos passos</h2>
                                                    <div class="space-y-4 leading-relaxed text-gray-700 dark:text-slate-300">
                                                        <p>Com Pandas e GeoPandas você agora consegue:</p>
                                                        <ul class="space-y-2 list-disc pl-5 marker:text-ifsc-green dark:marker:text-emerald-300">
                                                            <li>Ler, filtrar e resumir dados tabulares sem escrever laços repetitivos.</li>
                                                            <li>Manipular arquivos espaciais, converter formatos e reprojetar coordenadas.</li>
                                                            <li>Executar consultas espaciais para responder perguntas sobre localização.</li>
                                                        </ul>
                                                        <p>Essas habilidades sustentam fluxos de ciência de dados e geoprocessamento. Na próxima aula, usaremos essas tabelas e geometrias para alimentar mapas interativos com Folium.</p>
                                                    </div>
                                                </section>
                                                <section id="navegacao" data-toc="section" data-toc-title="Navegação" class="mt-10">
                                                    <nav aria-label="Navegação entre capítulos" class="flex flex-col gap-4 rounded-2xl border border-slate-200/80 bg-white/90 p-6 shadow-sm dark:border-slate-700/60 dark:bg-slate-900/70">
                                                        <p class="text-sm font-semibold uppercase tracking-wide text-ifsc-green dark:text-emerald-300">Continue sua jornada</p>
                                                        <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
                                                            <a href="Capítulo 04 - Dando Inteligência ao Código - Decisões e Loops.html" class="group inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-3 text-sm font-medium text-slate-600 transition hover:border-ifsc-green hover:text-ifsc-green dark:border-slate-700 dark:text-slate-200 dark:hover:border-emerald-400 dark:hover:text-emerald-300">
                                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition group-hover:-translate-x-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                                                    <path d="m15 18-6-6 6-6"></path>
                                                                </svg>
                                                                <span>Revisar capítulo anterior</span>
                                                            </a>
                                                            <a href="Capítulo 06 - Do Endereço ao Mapa - Geocodificação com Geopy.html" class="group inline-flex items-center gap-2 rounded-xl border border-ifsc-green px-4 py-3 text-sm font-semibold text-ifsc-green transition hover:bg-ifsc-green hover:text-white dark:border-emerald-400 dark:text-emerald-300 dark:hover:bg-emerald-400 dark:hover:text-slate-900">
                                                                <span>Avançar para geocodificação</span>
                                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition group-hover:translate-x-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                                                                    <path d="m9 18 6-6-6-6"></path>
                                                                </svg>
                                                            </a>
                                                        </div>
                                                        <p class="text-xs text-slate-500 dark:text-slate-300/80">No próximo capítulo, vamos transformar endereços em coordenadas usando Geopy e preparar dados para visualização.</p>
                                                    </nav>
                                                </section>
                                            </section>
                            </div>
        
            </div>
        </article>

        </div>
    </main>

    <footer class="mt-8 bg-white shadow-inner dark:bg-slate-900/90">
        <div class="container mx-auto px-6 py-8 text-center text-gray-600 dark:text-slate-300">
            <p class="text-base font-semibold text-ifsc-green">PAG014903 - PROGRAMAÇÃO APLICADA AO GEOPROCESSAMENTO</p>
            <p class="text-sm">Curso Técnico em Geoprocessamento · DACC - IFSC Florianópolis</p>
            <p class="text-sm">Professor responsável: Arthur Berbert</p>
            <p class="text-xs text-gray-400 mt-2">Versão 2025-2</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="main.v2.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>
</html>
